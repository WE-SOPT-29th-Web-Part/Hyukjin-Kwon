{"version":3,"sources":["Components/ProfileFinder/Profile/index.jsx","Components/ProfileFinder/ProfileHistory/index.jsx","Assets/gitCat.png","Components/Common/NotFound/index.jsx","Components/Common/Loader/index.jsx","Components/ProfileFinder/ProfileHandler/index.jsx","Constants/api-uri.js","Assets/telescope-bg-top.png","Assets/telescope-bg-bottom.png","Components/ProfileFinder/index.jsx","App.jsx","index.jsx"],"names":["Profile","props","toggle","userInfo","thumbnail","nickname","userId","following","followers","githubUrl","introduce","className","src","alt","href","type","onClick","ProfileHistory","showProfile","ls","window","localStorage","useState","historyList","setHistoryList","useEffect","JSON","parse","getItem","length","map","history","removeTarget","removedHistory","filter","setItem","stringify","removeItem","removeHistory","NotFound","gitCat","Loader","ProfileHandler","containerRef","useRef","isError","setIsError","isLoading","setIsLoading","isResultShown","setIsResultShown","isHistoryShown","setIsHistoryShown","username","setUsername","addHistory","queryUsername","target","parsedHistoryList","Set","has","addedHistory","slice","reverse","err","searchUser","a","axios","get","result","status","data","avatar_url","html_url","login","name","bio","current","handleEnterPress","e","key","handleClickOutside","closestInput","closest","closestHistory","container","addEventListener","removeEventListener","onFocus","value","onChange","onKeyPress","placeholder","ProfileFinder","ref","bgBottom","bgTop","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.93dcaccd.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\n\nfunction Profile(props) {\n  const { toggle, userInfo } = props;\n  const {\n    thumbnail, nickname, userId, following, followers, githubUrl, introduce,\n  } = userInfo;\n\n  return (\n    <article className=\"profile\">\n      <div className=\"profile__thumbnail\">\n        <img src={thumbnail} alt=\"user-thumbnail\" />\n      </div>\n      <div className=\"profile__username\">\n        <h2>{nickname}</h2>\n        <h3>{userId}</h3>\n      </div>\n\n      <div className=\"profile__intro\">\n        {introduce}\n      </div>\n\n      <hr />\n\n      <ul className=\"profile__followInfo\">\n        <li>{`팔로우가 무려 ${followers}명`}</li>\n        <li>{`팔로워가 벌써 ${following}명`}</li>\n      </ul>\n\n      <div className=\"profile__footer\">\n        <a href={githubUrl} className=\"profile__visit\">구경하기</a>\n        <button type=\"button\" onClick={toggle} className=\"profile__dislike\">별로에요</button>\n      </div>\n      <button type=\"button\" onClick={toggle} className=\"profile__closeBtn\">X</button>\n    </article>\n  );\n}\n\nProfile.propTypes = {\n  toggle: PropTypes.func.isRequired,\n  userInfo: PropTypes.shape({\n    thumbnail: PropTypes.string,\n    nickname: PropTypes.string,\n    userId: PropTypes.string,\n    following: PropTypes.number,\n    followers: PropTypes.number,\n    githubUrl: PropTypes.string,\n    introduce: PropTypes.string,\n  }).isRequired,\n};\n\nexport default Profile;\n","import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { FaTrash } from 'react-icons/fa';\n\nimport './index.scss';\n\nfunction ProfileHistory({ showProfile }) {\n  const ls = window.localStorage;\n  const [historyList, setHistoryList] = useState([]);\n\n  const removeHistory = (removeTarget) => {\n    const removedHistory = JSON.parse(ls.getItem('profile-history')).filter((history) => removeTarget !== history);\n    setHistoryList(removedHistory);\n    if (!removedHistory.length) ls.removeItem('profile-history');\n    else ls.setItem('profile-history', JSON.stringify(removedHistory));\n  };\n\n  const showHistory = () => {\n    if (historyList.length) {\n      return (\n        <ul className=\"profileHistory\">\n          {historyList.map((history) => (\n            <li key={history}>\n              <button type=\"button\" onClick={() => showProfile(history)}>\n                <span>{history}</span>\n              </button>\n              <button type=\"button\" onClick={() => removeHistory(history)}>\n                <span><FaTrash /></span>\n              </button>\n            </li>\n          ))}\n        </ul>\n      );\n    }\n    return '';\n  };\n\n  useEffect(() => {\n    if (ls) setHistoryList(JSON.parse(ls.getItem('profile-history')) || []);\n  }, [ls]);\n\n  return (\n    <>\n      {showHistory()}\n    </>\n  );\n}\n\nProfileHistory.propTypes = {\n  showProfile: PropTypes.func.isRequired,\n};\n\nexport default ProfileHistory;\n","export default __webpack_public_path__ + \"static/media/gitCat.40aa8fa6.png\";","import React from 'react';\nimport './index.scss';\n\nimport gitCat from 'Assets/gitCat.png';\n\nfunction NotFound() {\n  return (\n    <div className=\"notFound\">\n      <img src={gitCat} alt=\"gitcat\" />\n      <p>404 낫 파운드</p>\n      <a href=\"/\">돌아가기</a>\n    </div>\n  );\n}\n\nexport default NotFound;\n","import React from 'react';\nimport { FaSpinner } from 'react-icons/fa';\n\nimport './index.scss';\n\nfunction Loader() {\n  return <FaSpinner className=\"loader\" />;\n}\n\nexport default Loader;\n","import React, { useState, useRef, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport axios from 'axios';\n\nimport Profile from 'Components/ProfileFinder/Profile';\nimport ProfileHistory from 'Components/ProfileFinder/ProfileHistory';\nimport NotFound from 'Components/Common/NotFound';\nimport Loader from 'Components/Common/Loader';\n\nimport { GITHUB_API, USER_URI } from 'Constants/api-uri';\n\nimport './index.scss';\n\nfunction ProfileHandler({ containerRef }) {\n  const userInfo = useRef();\n  const [isError, setIsError] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [isResultShown, setIsResultShown] = useState(false);\n  const [isHistoryShown, setIsHistoryShown] = useState(false);\n  const [username, setUsername] = useState('');\n\n  const isRedundant = (list, target) => new Set(list).has(target);\n\n  const addHistory = (queryUsername) => {\n    const ls = window.localStorage;\n    try {\n      const historyList = ls.getItem('profile-history');\n      if (historyList) {\n        const parsedHistoryList = JSON.parse(historyList);\n        if (!isRedundant(parsedHistoryList, queryUsername)) {\n          const addedHistory = [...parsedHistoryList, queryUsername].slice(-3).reverse();\n          ls.setItem('profile-history', JSON.stringify(addedHistory));\n        }\n      } else {\n        ls.setItem('profile-history', JSON.stringify([queryUsername]));\n      }\n    } catch (err) {\n      setIsError(err);\n    }\n  };\n\n  const searchUser = async (queryUsername) => {\n    try {\n      const result = await axios.get(`${GITHUB_API}${USER_URI}/${queryUsername}`);\n      if (result.status === 200) {\n        const {\n          avatar_url: thumbnail,\n          html_url: githubUrl,\n          login: userId,\n          name: nickname,\n          bio: introduce,\n          followers,\n          following,\n        } = result.data;\n\n        userInfo.current = {\n          thumbnail,\n          githubUrl,\n          userId,\n          nickname,\n          introduce,\n          followers,\n          following,\n        };\n      } else setIsError(true);\n    } catch {\n      setIsError(true);\n    }\n  };\n\n  const showProfile = async (queryUsername) => {\n    setIsLoading(true);\n    await searchUser(queryUsername);\n    setIsLoading(false);\n    setIsResultShown(true);\n    addHistory(queryUsername);\n  };\n\n  const handleUsername = (e) => setUsername(e.target.value);\n  const handleEnterPress = async (e) => {\n    if (e.key === 'Enter' && username) showProfile(username);\n  };\n\n  const closeResult = () => {\n    setIsError(false);\n    setIsResultShown(false);\n    setIsHistoryShown(false);\n    setIsLoading(false);\n    setUsername('');\n  };\n\n  useEffect(() => {\n    function handleClickOutside(e) {\n      const closestInput = e.target && e.target.closest('input');\n      const closestHistory = e.target && e.target.closest('ul');\n      if (closestInput && closestInput.className === 'profileHandler__input') return false;\n      if (closestHistory && closestHistory.className === 'profileHistory') return false;\n\n      setIsHistoryShown(false);\n      return true;\n    }\n\n    const container = containerRef.current;\n\n    if (container) container.addEventListener('click', handleClickOutside);\n    return () => {\n      if (container) container.removeEventListener('click', handleClickOutside);\n    };\n  }, [containerRef]);\n\n  return (\n    <div className=\"profileHandler\">\n      {isError && <NotFound />}\n      {isResultShown && !isError && <Profile toggle={closeResult} userInfo={userInfo.current} />}\n      {!isResultShown && isLoading && <Loader />}\n      {!isResultShown && !isLoading && (\n        <div\n          className=\"profileHandler__inputWrapper\"\n          onFocus={() => setIsHistoryShown(true)}\n        >\n          <input\n            className=\"profileHandler__input\"\n            type=\"text\"\n            value={username}\n            onChange={handleUsername}\n            onKeyPress={handleEnterPress}\n            placeholder=\"훔쳐보고 싶은 프로필을 입력해보세요.\"\n          />\n          {isHistoryShown && <ProfileHistory showProfile={showProfile} />}\n        </div>\n      )}\n    </div>\n  );\n}\n\nProfileHandler.propTypes = {\n  containerRef: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.shape({ current: PropTypes.instanceOf(Element) }),\n  ]).isRequired,\n};\n\nexport default ProfileHandler;\n","export const GITHUB_API = 'https://api.github.com';\n\nexport const USER_URI = '/users';\n","export default __webpack_public_path__ + \"static/media/telescope-bg-top.553e5cc2.png\";","export default __webpack_public_path__ + \"static/media/telescope-bg-bottom.7e2293e7.png\";","import React, { useRef } from 'react';\n\nimport ProfileHandler from 'Components/ProfileFinder/ProfileHandler';\nimport bgTop from 'Assets/telescope-bg-top.png';\nimport bgBottom from 'Assets/telescope-bg-bottom.png';\n\nimport './index.scss';\n\nfunction ProfileFinder() {\n  const containerRef = useRef();\n  return (\n    <main className=\"profileFinder\" ref={containerRef}>\n      <h1>니 깃허브 쩔더라?</h1>\n      <ProfileHandler containerRef={containerRef} />\n      <img src={bgBottom} alt=\"bg-telescope-bottom\" />\n      <img src={bgTop} alt=\"bg-telescope-top\" />\n    </main>\n  );\n}\n\nexport default ProfileFinder;\n","import React from 'react';\n\nimport ProfileFinder from 'Components/ProfileFinder';\n\nfunction App() {\n  return <ProfileFinder />;\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}